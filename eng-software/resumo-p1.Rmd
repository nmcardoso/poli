---
title: "Resumo P1"
author: "Natanael Magalhães Cardoso"
date: "25/05/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Aula 1 e 2

## Consequências do compartilhamento de dados

- Compartilhamento de dados tem reflexo na estrutura do software
  - Estrutura interna de arquivos passa a ser mais complexa
  - Devem atender as necessidades dos diferentes sistemas
- Sistemas de Gerencia de Banco de Dados (SGBD)
  - permitem o uso compartilhado do dado e oferecem serviços para o gerenciamento e acesso ao dado.
  - preciso obedecer as estruturas definidas pelo SGBD utilizado

## Definições

- Banco de Dados
  - conjunto de arquivos integrados que atendem a um conjunto de sistemas.
- Sistemas de Gerência de Banco de Dados (SGBD)
  - software que incorpora as funções de definição, recuperação e alteração de dados em um banco de dados.

## Vantagens

- Redundância controlada
- Independência de Dados
  - Aplicações imunes de organizações lógicas e físicas dos dados e vice-versa
- Linguagem de acesso
- Recuperação de falhas

## Modelos de Dados – níveis de abstração

**Nível Físico** (tipo de dado de campos de tabela, localização física dos arquivos, tamanho dos arquivos) -> **Nível Lógico** (sql) -> **Nível Conceitual** (mer)

## Modelo Entidade-Relacionamento (MER)

- Técnica de modelagem conceitual

### Entidade

Isoladamente não informa nada   

Propriedades
- atributos;
- relacionamento;
- generalizações e especializações.

### Relacionamento

Conjunto de associações entre entidades sobre as quais deseja-se manter informações no BD.


#### Ternário 

<center>
![Ternário](figs/ternario-1.png){width=50%}
</center>


<center>
![Ternário - Entidade Franca](figs/ternario-2.png){width=50%}
</center>


### Generalização / Especialização

<center>
![Generalização/Especialização](figs/generalizacao-especializacao.png){width=50%}
</center>


### Entidade Associativa

<center>
![Entidade associativa](figs/entidade-associativa.png){width=50%}
</center>


<center>
![Entidade associativa como entidade fraca](figs/entidade-associativa-fraca.png){width=50%}
</center>


# Aula 3

SGBD's
- composto por tabelas; 
- cada tabela: um conjunto de linhas; 
- cada linha: relação entre valores de atributos.

## Características do modelo relacional

**Domínio de atributos**: conjunto de valores permitidos para um atributo ou campo.

**Campos obrigatórios ou opcionais**: null ou not null.

**Chave**: usada para identificar tuplas e estabelecer relações entre tuplas. São restrições de integridade.

**Integridade Existencial**: associada ao conceito de chave primária; define que a chave primária não pode ser nula, nem ter valor já existente na tabela.

**Integridade Referencial**: associada a chave estrangeira; a chave estrangeira deve referenciar valores existentes na tabela referenciada. Atualizações podem originar violações das regras de integridade referencial.


# Aula 4

<center>
![transformação de modelo](figs/transformacao.png){width=50%}
</center>

## Transformação de Entidades

<center>
![entidade empregado](figs/entidade-empregado.png){width=50%}
</center>

Empregado(**CPF_emp**, nome_emp, end_emp, dataadm_emp, datanasc_emp)


## Transformação de Entidades Fracas

<center>
![entidade fraca](figs/entidade-fraca.png){width=50%}
</center>

Dependente(**matric-prof**, **nome-dep**, datanasc_dep)


# Aula 5

## Normalização

- Conceito próprio de BDR que objetiva eliminar redundância de dados de arquivos, permitindo a construção de relações que não apresentam anomalias quando são manipuladas.
- Permite o reagrupamento de informações para a obtenção de um modelo E-R.
- Formas Normais:
  - regras que originam tabelas bem projetadas
  - 1FN, 2FN, 3FN, BCNF, 4NF e 5NF

## Dependência Funcional

Dada uma relação (tabela) R , o atributo Y de R é funcionalmente dependente do Atributo X de R (R.X $\rightarrow$ R.Y) , se e somente se para cada valor de X tem a ele associado apenas um valor de Y.

Neste caso, diz-se que Y é dependente funcional de X ou que X determina o valor de Y.

## Primeira Forma Normal (1FN)

Diz-se que uma relação está na 1FN se e somente se todos os atributos contém somente valores atômicos.

_Banco de Dados Relacionais: as relações devem estar na 1FN_

### Anomalias da 1FN

- Insersão: não é possível incluir um novo item (cod e descr) sem existir um pedido.
- Eliminação: pode ocorrer a perda de informação sobre um item ao eliminar-se um pedido.
- Modificação: na alteração do preço unitário de um item, deve-se alterar todos os pedidos em que este aparece.


### 2ª opção para geração na 1FN:

Construir uma tabela para cada tabela aninhada

1. cria-se uma tabela na 1FN referente a tabela externa (sem tabelas aninhadas);
1. para cada tabela aninhada cria-se uma tabela na 1FN com os campos: chave-primária de cada uma das tabelas da qual ela é aninhada + colunas da própria tabela;
1. defini-se as chaves primárias de cada uma das tabelas criadas.


## Segunda Forma Normal (2FN)

Diz-se que uma tabela está na 2FN se e somente se ela estiver na 1FN e cada coluna não chave for dependente funcional completo da chave principal.


## Terceira Forma Normal (3FN)

Diz-se que uma tabela está na 3FN se e somente se ela estiver na 2FN e todo atributo não chave não depender de outro atributo não chave.

- eliminação de dependências entre atributos não chave; 
- eliminação de atributos derivados


## Forma Normal de Boyce/Cood (BCNF)

Diz-se que uma tabela está BCNF se e somente se os únicos determinantes são chaves candidatas.

- tabelas que tenham duas ou mais chaves candidatas e
- cada chave candidata (uma chave composta) apresente superposição em relação a algum atributo


## Quarta Forma Normal (4FN)

Diz-se que uma tabela está 4FN se e somente se estiver na 3FN e não apresentar dependências multivaloradas.

- dependência multivalorada: ocorre quando um dado valor da chave principal identifica repetidas vezes um conjunto de valores de atributos dependentes.


